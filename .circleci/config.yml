version: 2.1
orbs:
  ruby: circleci/ruby@0.1.2
  slack: circleci/slack@3.4.2

jobs:
  build:
    working_directory: ~/emma-sax4.github.io
    docker:
      - image: circleci/ruby:2.6.0-node
    steps:
      - run: exit 1
      - slack/status:
          webhook: 'https://hooks.slack.com/services/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'
      # - checkout
      # - run:
      #     name: Configure Bundler
      #     command: |
      #       echo 'export BUNDLER_VERSION=$(cat Gemfile.lock | tail -1 | tr -d " ")' >> $BASH_ENV
      #       source $BASH_ENV
      #       gem install bundler
      # - run:
      #     name: Bundle Install
      #     command: bundle install
      # - run:
      #     name: Jekyll Build
      #     command: JEKYLL_ENV=production bundle exec jekyll build --destination ./site
      # - run:
      #     name: HTML Proofer
      #     command: |
      #       bundle exec htmlproofer \
      #       --assume-extension \
      #       --allow-hash-href \
      #       --internal-domains /emmasax4.info/ \
      #       --url-ignore /linkedin/,/digikey/ \
      #       ./site \
      #       || echo 'HTML Proofer failed. Please investigate the failures.'
      # - slack/status:
      #     success_message: 'A job has succeeded!'
      #     failure_message: 'A job has failed!'
        # https://hooks.slack.com/services/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
